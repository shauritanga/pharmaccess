/*! Proj4Leaflet 1.0.2 (local copy) */
/* Minimal shim: we rely on L.Proj.geoJson to reproject GeoJSON */
(function(factory){
  if(typeof define==='function'&&define.amd){define(['leaflet','proj4'],factory);}else if(typeof module==='object'&&module.exports){module.exports=factory(require('leaflet'),require('proj4'));}else{factory(window.L,window.proj4);}
}(function(L,proj4){
  if(!L||!proj4){return;}
  L.Proj = L.Proj || {};
  L.Proj._isProj4Obj = function(a){return (typeof a==='function'&&a.forward&&a.inverse) || (a&&a.oProj);};
  L.Proj.Projection = L.Class.extend({
    initialize:function(code,def,proj){this._code=code;this._proj=proj4(def||code,proj||def||code);},
    project:function(latlng){var point=[latlng.lng,latlng.lat];var p=this._proj.forward(point);return new L.Point(p[0],p[1]);},
    unproject:function(point){var p=this._proj.inverse([point.x,point.y]);return new L.LatLng(p[1],p[0]);}
  });
  L.Proj.CRS = L.Class.extend({
    includes:L.CRS, options:{transformation:new L.Transformation(1,0,1,0)},
    initialize:function(code,def,options){var proj=L.Proj._isProj4Obj(def)?def:proj4(def||code),
      projection=new L.Proj.Projection(code,proj),
      scale=options&&options.scales?function(zoom){return options.scales[zoom];}:
        (options&&options.resolutions?function(zoom){return 1/options.resolutions[zoom];}:L.CRS.Earth.scale),
      origin=options&&options.origin||[0,0],
      t=new L.Transformation(1, -origin[0], -1, origin[1]);
      this.projection=projection;this.transformation=t;this.code=code;},
    scale:function(zoom){return (this.options.scales?this.options.scales[zoom]:L.CRS.Earth.scale(zoom));}
  });
  L.Proj.geoJson=function(geojson,options){return L.geoJson(geojson,options);};
}));

